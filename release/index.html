<!doctype html>
<!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      https://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License
-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Odd Chatter</title>

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">

  <!-- Web Application Manifest -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="manifest.json">

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Odd Chatter">
  <meta name="theme-color" content="#303F9F">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Odd Chatter">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303F9F">

  <!-- Tile icon for Win8 -->
  <meta name="msapplication-TileColor" content="#3372DF">
  <meta name="msapplication-navbutton-color" content="#303F9F">

  <!-- Material Design Lite -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.orange-indigo.min.css">
  <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>

  <!-- App Styling -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,700&display=swap">
  <link rel="stylesheet" href="styles/main.css">

  <!-- Start CauseVox Embed Code -->
  <script type="text/javascript" src="https://js.causevox.com/v3"></script>
  <script type="text/javascript"> causevox.CONFIG = { app_id : 'ZMbr1JWPM4OyBq6e', campaign_id : 'XzQ72WL8qlWl0KV1' }; </script>
  <!-- End CauseVox Embed Code -->
</head>
<body>
<div id="promo">
  <div id="promo-container">
    <div id="promo-social">
      <a href="https://www.facebook.com/events/193684762441542" id="promo-facebook">&nbsp;</a>
      <a href="https://www.eventbrite.com/e/odd-salon-shorts-best-in-show-tickets-137028416683" id="promo-eventbrite">&nbsp;</a>
    </div>
    <div id="promo-image">&nbsp;</div>
    <div id="promo-action">Come back here half an hour before the event to chat!</div>
  </div>
</div>

<div id="error-container" hidden>
  <div id="error">
    <div id="error-harvey">&nbsp;</div>
    <div id="error-header">Technical difficulties</div>
    <div id="error-text">Oh no! It looks like MISTAKES WERE MADE. Quick, follow the crowds over to <a id="error-link">the YouTube chat</a>!</div>
  </div>
</div>

<div id="outer-container" hidden class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <!-- Header section containing logo -->
  <header class="mdl-layout__header mdl-color-text--white mdl-color--black">
    <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-grid">
      <div class="mdl-layout__header-row mdl-cell mdl-cell--12-col mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
        <h3><img src="images/harvey.jpg" class="inline-icon">Odd Chatter</h3>
      </div>
      <div id="user-container">
        <div hidden id="user-pic"></div>
        <div hidden id="user-name"></div>
        <button hidden id="kebab-menu" class="mdl-button mdl-js-button mdl-button--icon">
          <i class="material-icons kebab-menu-icon">more_vert</i>
        </button>
        
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu" for="kebab-menu">
          <li class="mdl-menu__item">
            <button id="sign-out" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-color-text--white">
              Sign out
            </button>
          </li>
          <li class="mdl-menu__item">
            <label class="mdl-switch mdl-js-switch" for="notifications-switch">
              <span class="mdl-switch__label notifications-label">Notifications</span>
              <input type="checkbox" id="notifications-switch" class="mdl-switch__input">
            </label>
          </li>
        </ul>
        <button id="sign-in" class="mdl-button mdl-js-button mdl-color-text--white">
          <i class="material-icons">account_circle</i>Sign in
        </button>
      </div>
    </div>
  </header>

  <main class="public-works mdl-layout__content mdl-color--grey-800">
    <div hidden id="messages-card-container" class="mdl-cell mdl-cell--12-col mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-grid">

      <!-- Messages container -->
      <div id="messages-card" class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--top mdl-cell--12-col mdl-cell--6-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
        <div class="mdl-card__supporting-text mdl-color-text--grey-900">
          <div id="messages">
            <div id="last-message">&nbsp;</div>
            <div id="scroll-down-container" hidden>
              <form id="scroll-down-form" action=#>
                <button type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                  ‚Üì Jump to bottom
                </button>
              </form>
            </div>
          </div>
          <form id="message-form" action="#">
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
              <input disabled class="mdl-textfield__input" type="text" id="message" autocomplete="off">
              <label class="mdl-textfield__label" for="message">Message...</label>
            </div>
            <button id="submit" disabled type="submit" class="mdl-button mdl-js-button mdl-button--raised">              ‚û§
            </button>
          </form>
          <div class="messagebuttons">
            <div class="messagebuttons-grid">
              <form id="science-form" class="one-button-form" action=#>
                <button disabled id="science" title="Science!" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
      üî¨
                </button>
              </form>
              <form id="art-form" class="one-button-form" action=#>
                <button disabled id="art" title="Art!" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                üé®
                </button>
              </form>
              <form id="maps-form" class="one-button-form" action=#>
                <button disabled id="maps" title="Maps!" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                  üó∫Ô∏è
                </button>
              </form>
              <form id="ships-form" class="one-button-form" action=#>
                <button disabled id="ships" title="Ships!" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                  üö¢
                </button>
              </form>
              <form id="applause-form" class="one-button-form" action=#>
                <button disabled id="applause" title="Applause" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                  üëè
                </button>
              </form>
              <form id="boo-form" class="one-button-form" action=#>
                <button disabled id="boo" title="Boo!" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                  üëé
                </button>
              </form>
              <form id="steen-form" class="one-button-form" action="#">
                <button disabled id="steen" title="Steen!" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                  üéôÔ∏è
                </button>
              </form>
              <form id="cheers-form" class="one-button-form" action="#">
                <button disabled id="cheers" title="Cheers!" type="submit" class="mdl-button mdl-js-button mdl-button--raised">
                  ü•É
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- YT Live Stream container -->
      <div id="youtube-stream-container" hidden class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--top mdl-cell--12-col mdl-cell--6-col-desktop mdl-cell--hide-tablet mdl-cell--hide-phone">
        <div class="active-users" hidden>
          <span id="user-count">0</span> users currently chatting
        </div>
        <iframe hidden
                id="youtube-video"
                width="560"
                height="315"
                frameborder="0"
                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
        <iframe hidden id="youtube-chat" referrerPolicy="origin" frameBorder=0></iframe>
      </div>
      <div id="must-signin-snackbar" class="mdl-js-snackbar mdl-snackbar">
        <div class="mdl-snackbar__text"></div>
        <button class="mdl-snackbar__action" type="button"></button>
      </div>
    </div>

    <div id="signin-splashscreen" class="mdl-cell mdl-cell--12-col mdl-grid">
      <div class="mdl-layout-spacer"></div>
      <div class="mdl-cell mdl-cell--4-col" id="signin-card">
        <button id="sign-in-splash" class="mdl-button mdl-js-button mdl-button--raised mdl-color-text--white">
          <i class="material-icons">account_circle</i>Sign in with Google
        </button>
      </div>
      <div class="mdl-layout-spacer"></div>
    </div>

    <div id="intro-container" hidden class="mdl-cell mdl-cell--12-col mdl-grid">
      <div class="mdl-layout-spacer"></div>
      <div class="mdl-cell mdl-cell--8-col" id="intro">
        <div id="intro-harvey">&nbsp;</div>
        <div id="intro-header">Welcome to the Odd Salon chat!</div>
        <div id="intro-text">
          <div>This is not a quiet event - if enough folks shout the same callout in chat, we'll all hear it.</div>
          <div>To make it easier, there's button shortcuts to our favorite callouts.</div>
          <div>Remember, the chat is public - so don't share your bank account password.</div>
          <div>And because Odd Salon is not only an event, it is a community - remember our 
            <a href="https://www.oddsalon.com/about/code-of-conduct/" target="_blank">code of conduct</a>!</div>
          <button id="intro-button"
            class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent mdl-color-text--white">
            I agree
          </button>
        </div>
      </div>
      <div class="mdl-layout-spacer"></div>
    </div>
  </main>
</div>
<div id="hidden-audio"></div>

<!-- Import and configure the Firebase SDK -->
<script src="/__/firebase/8.0.2/firebase-app.js"></script>
<script src="/__/firebase/8.0.2/firebase-analytics.js"></script>
<script src="/__/firebase/8.0.2/firebase-auth.js"></script>
<script src="/__/firebase/8.0.2/firebase-database.js"></script>
<script src="/__/firebase/8.0.2/firebase-firestore.js"></script>
<script src="/__/firebase/8.0.2/firebase-messaging.js"></script>
<script src="/__/firebase/8.0.2/firebase-performance.js"></script>
<script src="/__/firebase/init.js"></script>

<!-- Import Autolinker and DOMPurify -->
<script src="scripts/Autolinker.min.js"></script>
<script src="scripts/purify.min.js"></script>

<script src="scripts/main.js"></script>
</body>
</html>
